<form name="update_profile_form" ng-controller="UpdateProfileFormCtrl as update_ctrl"
      ng-submit="update_ctrl.update_profile()">

    <div class="panel panel-primary">
        <div class="panel-heading">
            <h3>{{update_ctrl.user_details.username}}</h3>
        </div>
        <div class="panel-body">
            <div class="form-group">
                <label for="update_profile_form_email">Email</label>
                <input type="email"
                       id="update_profile_form_email"
                       class="form-control"
                       name="update_profile_email"
                       ng-model="update_ctrl.user_details.email"
                       required
                       placeholder="example@youremail.com"
                       ng-disabled="update_ctrl.edit_mode === false">

                <div class="errors">
                    <ul ng-repeat="error in update_ctrl.email_errors">
                        <li>{{error}}</li>
                    </ul>
                </div>
            </div>
            <div class="form-group">
                <label for="update_profile_form_first_name">First Name</label>
                <input type="text"
                       id="update_profile_form_first_name"
                       class="form-control"
                       name="update_profile_first_name"
                       ng-model="update_ctrl.user_details.first_name"
                       required
                       placeholder="Joe"
                       ng-disabled="update_ctrl.edit_mode === false">

                <div class="errors">
                    <ul ng-repeat="error in update_ctrl.first_name_errors">
                        <li>{{error}}</li>
                    </ul>
                </div>
            </div>

            <div class="form-group">
                <label for="update_profile_form_last_name">Surname</label>
                <input type="text"
                       id="update_profile_form_last_name"
                       class="form-control"
                       name="update_profile_form_last_name"
                       ng-model="update_ctrl.user_details.last_name"
                       required
                       placeholder="Bloggs"
                       ng-disabled="update_ctrl.edit_mode === false">

                <div class="errors">
                    <ul ng-repeat="error in update_ctrl.last_name_errors">
                        <li>{{error}}</li>
                    </ul>
                </div>
            </div>

            <div class="form-group">
                <div class="errors">
                    <ul ng-repeat="error in update_ctrl.non_field_errors">
                        <li>{{error}}</li>
                    </ul>
                </div>
            </div>


            <div class="form-group">
                <input class="btn btn-warning" type="button" value="Edit" ng-click="update_ctrl.allow_editing()"
                       ng-hide="update_ctrl.edit_mode" ng-disabled="update_ctrl.edit_mode"/>
                <input class="btn btn-success" type="submit" value="Save"
                       ng-disabled="update_profile_form.$invalid || !update_ctrl.edit_mode"
                       ng-hide="!update_ctrl.edit_mode"/>
            </div>
        </div>
    </div>
</form>